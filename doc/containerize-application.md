## 테스트 과정

1. Dockerfile을 생성한다.

2. 도커 이미지를 빌드한다.

- docker build -t nest-docker .

3. 빌드된 도커 컨테이너 이미지를 실행한다.

- docker run -dp 3000:3000 nest-docker

4. 실행된 도커 컨테이너 이미지 상태를 확인한다.

- docker ps

5. 실행된 도커 컨테이너 이미지를 종료한다.

- docker kill CONTAINER_ID
- docker stop CONTAINER_ID
- dockker rm CONTAINEr_ID

---

## docker run [ -dp ] 는 무엇을 의미하는걸까?

- d : 도커 이미지를 백그라운드에서 실행시켜라
- p : 도커 컨테이너의 포트와 외부 포트를 연결시키는 명령으로 <u>포트 매핑 연결이 없다면 도커 컨테이너 이미지에 접근할 수 없다.</u>

## kill, stop, rm의 차이는 무엇일까?

kill: 컨테이너를 즉시 중지합니다. 이 명령어를 사용하면 컨테이너 내부에서 실행 중인 프로세스가 무조건적으로 종료됩니다. kill 명령어는 신호를 보내는 방식으로 작동합니다. 기본적으로 SIGKILL 신호를 보내며, 이는 프로세스가 그 즉시 종료되도록 합니다.

stop: 컨테이너를 정지시킵니다. kill과는 달리, stop 명령어는 컨테이너 내부에서 실행 중인 프로세스에게 SIGTERM 신호를 보내며, 이를 처리하는 방식에 따라 grace period가 주어지며, 이 기간동안 컨테이너가 자연스럽게 종료될 수 있도록 해줍니다. 만약 grace period가 지난 후에도 컨테이너가 종료되지 않으면, SIGKILL 신호를 보내서 컨테이너를 강제로 중지시킵니다.

rm: 컨테이너를 삭제합니다. 컨테이너를 삭제하면 해당 컨테이너와 관련된 파일 시스템, 네트워크 등의 리소스가 함께 제거됩니다. 이 명령어는 컨테이너를 중지시키지는 않습니다. 따라서 컨테이너를 삭제하기 전에 stop 명령어를 사용해서 컨테이너를 중지시키는 것이 좋습니다.

따라서, kill 명령어는 컨테이너를 즉시 중지하고, stop 명령어는 grace period를 주고 컨테이너를 중지시키며, rm 명령어는 컨테이너를 삭제합니다.
